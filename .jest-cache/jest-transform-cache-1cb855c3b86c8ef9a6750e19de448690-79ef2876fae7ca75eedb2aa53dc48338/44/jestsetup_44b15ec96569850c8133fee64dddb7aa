eef2c114088e5e66af5dfb93e180bb90
// Global test setup
"use strict";
// Mock Next.js server-side functions globally
jest.mock('next/navigation', ()=>({
        useRouter: jest.fn(()=>mockRouterFunctions),
        useSearchParams: ()=>new URLSearchParams(),
        usePathname: ()=>'/',
        redirect: jest.fn(),
        __mockRouterFunctions: mockRouterFunctions
    }));
// Mock Next.js cookies and headers (server-side)
jest.mock('next/headers', ()=>({
        cookies: ()=>({
                get: jest.fn(),
                set: jest.fn(),
                delete: jest.fn()
            }),
        headers: ()=>({
                get: jest.fn()
            })
    }));
// Mock Supabase clients globally to prevent server-side call issues
jest.mock('@/lib/supabase/client', ()=>({
        createClient: jest.fn(()=>({
                auth: {
                    getUser: jest.fn().mockResolvedValue({
                        data: {
                            user: null
                        },
                        error: null
                    }),
                    onAuthStateChange: jest.fn(()=>({
                            data: {
                                subscription: {
                                    unsubscribe: jest.fn()
                                }
                            }
                        })),
                    signOut: jest.fn().mockResolvedValue({
                        error: null
                    })
                },
                from: jest.fn(()=>({
                        select: jest.fn(()=>({
                                eq: jest.fn(()=>({
                                        single: jest.fn().mockResolvedValue({
                                            data: null,
                                            error: null
                                        }),
                                        limit: jest.fn(()=>({
                                                order: jest.fn().mockResolvedValue({
                                                    data: [],
                                                    error: null
                                                })
                                            }))
                                    })),
                                order: jest.fn().mockResolvedValue({
                                    data: [],
                                    error: null
                                })
                            })),
                        insert: jest.fn(()=>({
                                select: jest.fn().mockResolvedValue({
                                    data: [],
                                    error: null
                                })
                            })),
                        update: jest.fn(()=>({
                                eq: jest.fn(()=>({
                                        select: jest.fn().mockResolvedValue({
                                            data: [],
                                            error: null
                                        })
                                    }))
                            })),
                        upsert: jest.fn(()=>({
                                select: jest.fn(()=>({
                                        single: jest.fn().mockResolvedValue({
                                            data: {},
                                            error: null
                                        })
                                    }))
                            }))
                    }))
            }))
    }));
jest.mock('@/lib/supabase/server', ()=>({
        createClient: jest.fn(()=>({
                auth: {
                    getUser: jest.fn().mockResolvedValue({
                        data: {
                            user: null
                        },
                        error: null
                    })
                },
                from: jest.fn(()=>({
                        select: jest.fn(()=>({
                                eq: jest.fn(()=>({
                                        single: jest.fn().mockResolvedValue({
                                            data: null,
                                            error: null
                                        }),
                                        limit: jest.fn(()=>({
                                                order: jest.fn().mockResolvedValue({
                                                    data: [],
                                                    error: null
                                                })
                                            }))
                                    })),
                                order: jest.fn().mockResolvedValue({
                                    data: [],
                                    error: null
                                })
                            }))
                    }))
            }))
    }));
// Mock common application hooks globally
jest.mock('@/hooks/useGoals', ()=>({
        useUserGoals: jest.fn(()=>({
                data: {
                    goals: [],
                    onboarding: null
                },
                isLoading: false,
                error: null,
                refetch: jest.fn()
            })),
        useUpdateGoal: jest.fn(()=>({
                mutate: jest.fn(),
                isLoading: false,
                error: null
            })),
        useCreateGoal: jest.fn(()=>({
                mutate: jest.fn(),
                isLoading: false,
                error: null
            })),
        useDeleteGoal: jest.fn(()=>({
                mutate: jest.fn(),
                isLoading: false,
                error: null
            })),
        useGoalTypes: jest.fn(()=>({
                data: [],
                isLoading: false,
                error: null
            })),
        useCreateMultipleGoals: jest.fn(()=>({
                mutate: jest.fn(),
                isLoading: false,
                error: null
            }))
    }));
jest.mock('@/hooks/use-user-activities', ()=>({
        useUserActivities: jest.fn(()=>({
                data: [],
                isLoading: false,
                error: null,
                refetch: jest.fn()
            }))
    }));
jest.mock('@/hooks/use-strava-sync', ()=>({
        useStravaSync: jest.fn(()=>({
                syncData: jest.fn(),
                isLoading: false,
                error: null,
                lastSyncTime: null
            }))
    }));
jest.mock('@/hooks/useUnitPreferences', ()=>{
    const mockSetDistanceUnit = jest.fn();
    const mockToggleUnits = jest.fn();
    const mockUpdatePreferences = jest.fn();
    return {
        useUnitPreferences: jest.fn(()=>({
                preferences: {
                    distance: 'km',
                    pace: 'min/km'
                },
                updatePreferences: mockUpdatePreferences,
                setDistanceUnit: mockSetDistanceUnit,
                toggleUnits: mockToggleUnits,
                isLoading: false
            })),
        __mocks: {
            setDistanceUnit: mockSetDistanceUnit,
            toggleUnits: mockToggleUnits,
            updatePreferences: mockUpdatePreferences
        }
    };
});
jest.mock('@/providers/AuthProvider', ()=>({
        useAuth: jest.fn(()=>({
                user: null,
                isLoading: false,
                isAuthenticated: false,
                signOut: jest.fn(),
                refreshUser: jest.fn()
            }))
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
require("@testing-library/jest-dom");
// Create global router mocks that can be overridden in tests
const mockRouterFunctions = {
    push: jest.fn(),
    replace: jest.fn(),
    back: jest.fn(),
    forward: jest.fn(),
    refresh: jest.fn(),
    prefetch: jest.fn()
};
// Mock environment variables
process.env.NEXT_PUBLIC_SUPABASE_URL = 'https://test.supabase.co';
process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'test-anon-key';
process.env.SUPABASE_SERVICE_ROLE_KEY = 'test-service-role-key';
// REMOVED: Heavy console mocking that was running before every test
// REMOVED: beforeEach/afterEach hooks that were adding overhead
// Mock fetch globally
global.fetch = jest.fn(()=>Promise.resolve({
        ok: true,
        json: ()=>Promise.resolve({}),
        text: ()=>Promise.resolve(''),
        status: 200,
        statusText: 'OK'
    }));
// Mock window.location in a safe way that works with JSDOM
delete window.location;
window.location = {
    href: '',
    assign: jest.fn(),
    replace: jest.fn(),
    reload: jest.fn(),
    toString: jest.fn(()=>'http://localhost/')
};
// Mock ResizeObserver
global.ResizeObserver = jest.fn().mockImplementation(()=>({
        observe: jest.fn(),
        unobserve: jest.fn(),
        disconnect: jest.fn()
    }));
// Mock IntersectionObserver
global.IntersectionObserver = jest.fn().mockImplementation(()=>({
        observe: jest.fn(),
        unobserve: jest.fn(),
        disconnect: jest.fn()
    }));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdGlhbWFcXERlc2t0b3BcXENvZGluZ1xcZW5kdXJvcmV2YW1wXFxqZXN0LnNldHVwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEdsb2JhbCB0ZXN0IHNldHVwXHJcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSdcclxuXHJcbi8vIENyZWF0ZSBnbG9iYWwgcm91dGVyIG1vY2tzIHRoYXQgY2FuIGJlIG92ZXJyaWRkZW4gaW4gdGVzdHNcclxuY29uc3QgbW9ja1JvdXRlckZ1bmN0aW9ucyA9IHtcclxuICBwdXNoOiBqZXN0LmZuKCksXHJcbiAgcmVwbGFjZTogamVzdC5mbigpLFxyXG4gIGJhY2s6IGplc3QuZm4oKSxcclxuICBmb3J3YXJkOiBqZXN0LmZuKCksXHJcbiAgcmVmcmVzaDogamVzdC5mbigpLFxyXG4gIHByZWZldGNoOiBqZXN0LmZuKCksXHJcbn1cclxuXHJcbi8vIE1vY2sgTmV4dC5qcyBzZXJ2ZXItc2lkZSBmdW5jdGlvbnMgZ2xvYmFsbHlcclxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xyXG4gIHVzZVJvdXRlcjogamVzdC5mbigoKSA9PiBtb2NrUm91dGVyRnVuY3Rpb25zKSxcclxuICB1c2VTZWFyY2hQYXJhbXM6ICgpID0+IG5ldyBVUkxTZWFyY2hQYXJhbXMoKSxcclxuICB1c2VQYXRobmFtZTogKCkgPT4gJy8nLFxyXG4gIHJlZGlyZWN0OiBqZXN0LmZuKCksXHJcbiAgX19tb2NrUm91dGVyRnVuY3Rpb25zOiBtb2NrUm91dGVyRnVuY3Rpb25zLCAvLyBFeHBvcnQgZm9yIHRlc3QgYWNjZXNzXHJcbn0pKVxyXG5cclxuLy8gTW9jayBOZXh0LmpzIGNvb2tpZXMgYW5kIGhlYWRlcnMgKHNlcnZlci1zaWRlKVxyXG5qZXN0Lm1vY2soJ25leHQvaGVhZGVycycsICgpID0+ICh7XHJcbiAgY29va2llczogKCkgPT4gKHtcclxuICAgIGdldDogamVzdC5mbigpLFxyXG4gICAgc2V0OiBqZXN0LmZuKCksXHJcbiAgICBkZWxldGU6IGplc3QuZm4oKSxcclxuICB9KSxcclxuICBoZWFkZXJzOiAoKSA9PiAoe1xyXG4gICAgZ2V0OiBqZXN0LmZuKCksXHJcbiAgfSksXHJcbn0pKVxyXG5cclxuLy8gTW9jayBTdXBhYmFzZSBjbGllbnRzIGdsb2JhbGx5IHRvIHByZXZlbnQgc2VydmVyLXNpZGUgY2FsbCBpc3N1ZXNcclxuamVzdC5tb2NrKCdAL2xpYi9zdXBhYmFzZS9jbGllbnQnLCAoKSA9PiAoe1xyXG4gIGNyZWF0ZUNsaWVudDogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgYXV0aDoge1xyXG4gICAgICBnZXRVc2VyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiB7IHVzZXI6IG51bGwgfSwgZXJyb3I6IG51bGwgfSksXHJcbiAgICAgIG9uQXV0aFN0YXRlQ2hhbmdlOiBqZXN0LmZuKCgpID0+ICh7IGRhdGE6IHsgc3Vic2NyaXB0aW9uOiB7IHVuc3Vic2NyaWJlOiBqZXN0LmZuKCkgfSB9IH0pKSxcclxuICAgICAgc2lnbk91dDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgZXJyb3I6IG51bGwgfSksXHJcbiAgICB9LFxyXG4gICAgZnJvbTogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICBzZWxlY3Q6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICBlcTogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9KSxcclxuICAgICAgICAgIGxpbWl0OiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICAgICAgICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBbXSwgZXJyb3I6IG51bGwgfSksXHJcbiAgICAgICAgICB9KSksXHJcbiAgICAgICAgfSkpLFxyXG4gICAgICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBbXSwgZXJyb3I6IG51bGwgfSksXHJcbiAgICAgIH0pKSxcclxuICAgICAgaW5zZXJ0OiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBbXSwgZXJyb3I6IG51bGwgfSksXHJcbiAgICAgIH0pKSxcclxuICAgICAgdXBkYXRlOiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICAgICAgZXE6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogW10sIGVycm9yOiBudWxsIH0pLFxyXG4gICAgICAgIH0pKSxcclxuICAgICAgfSkpLFxyXG4gICAgICB1cHNlcnQ6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YToge30sIGVycm9yOiBudWxsIH0pLFxyXG4gICAgICAgIH0pKSxcclxuICAgICAgfSkpLFxyXG4gICAgfSkpLFxyXG4gIH0pKSxcclxufSkpXHJcblxyXG5qZXN0Lm1vY2soJ0AvbGliL3N1cGFiYXNlL3NlcnZlcicsICgpID0+ICh7XHJcbiAgY3JlYXRlQ2xpZW50OiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICBhdXRoOiB7XHJcbiAgICAgIGdldFVzZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IHsgdXNlcjogbnVsbCB9LCBlcnJvcjogbnVsbCB9KSxcclxuICAgIH0sXHJcbiAgICBmcm9tOiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICAgIHNlbGVjdDogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICAgIGVxOiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pLFxyXG4gICAgICAgICAgbGltaXQ6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IFtdLCBlcnJvcjogbnVsbCB9KSxcclxuICAgICAgICAgIH0pKSxcclxuICAgICAgICB9KSksXHJcbiAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IFtdLCBlcnJvcjogbnVsbCB9KSxcclxuICAgICAgfSkpLFxyXG4gICAgfSkpLFxyXG4gIH0pKSxcclxufSkpXHJcblxyXG4vLyBNb2NrIGNvbW1vbiBhcHBsaWNhdGlvbiBob29rcyBnbG9iYWxseVxyXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlR29hbHMnLCAoKSA9PiAoe1xyXG4gIHVzZVVzZXJHb2FsczogamVzdC5mbigoKSA9PiAoeyBkYXRhOiB7IGdvYWxzOiBbXSwgb25ib2FyZGluZzogbnVsbCB9LCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCwgcmVmZXRjaDogamVzdC5mbigpIH0pKSxcclxuICB1c2VVcGRhdGVHb2FsOiBqZXN0LmZuKCgpID0+ICh7IG11dGF0ZTogamVzdC5mbigpLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9KSksXHJcbiAgdXNlQ3JlYXRlR29hbDogamVzdC5mbigoKSA9PiAoeyBtdXRhdGU6IGplc3QuZm4oKSwgaXNMb2FkaW5nOiBmYWxzZSwgZXJyb3I6IG51bGwgfSkpLFxyXG4gIHVzZURlbGV0ZUdvYWw6IGplc3QuZm4oKCkgPT4gKHsgbXV0YXRlOiBqZXN0LmZuKCksIGlzTG9hZGluZzogZmFsc2UsIGVycm9yOiBudWxsIH0pKSxcclxuICB1c2VHb2FsVHlwZXM6IGplc3QuZm4oKCkgPT4gKHsgZGF0YTogW10sIGlzTG9hZGluZzogZmFsc2UsIGVycm9yOiBudWxsIH0pKSxcclxuICB1c2VDcmVhdGVNdWx0aXBsZUdvYWxzOiBqZXN0LmZuKCgpID0+ICh7IG11dGF0ZTogamVzdC5mbigpLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9KSksXHJcbn0pKVxyXG5cclxuamVzdC5tb2NrKCdAL2hvb2tzL3VzZS11c2VyLWFjdGl2aXRpZXMnLCAoKSA9PiAoe1xyXG4gIHVzZVVzZXJBY3Rpdml0aWVzOiBqZXN0LmZuKCgpID0+ICh7IGRhdGE6IFtdLCBpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCwgcmVmZXRjaDogamVzdC5mbigpIH0pKSxcclxufSkpXHJcblxyXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlLXN0cmF2YS1zeW5jJywgKCkgPT4gKHtcclxuICB1c2VTdHJhdmFTeW5jOiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICBzeW5jRGF0YTogamVzdC5mbigpLFxyXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgIGVycm9yOiBudWxsLFxyXG4gICAgbGFzdFN5bmNUaW1lOiBudWxsLFxyXG4gIH0pKSxcclxufSkpXHJcblxyXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlVW5pdFByZWZlcmVuY2VzJywgKCkgPT4ge1xyXG4gIGNvbnN0IG1vY2tTZXREaXN0YW5jZVVuaXQgPSBqZXN0LmZuKClcclxuICBjb25zdCBtb2NrVG9nZ2xlVW5pdHMgPSBqZXN0LmZuKClcclxuICBjb25zdCBtb2NrVXBkYXRlUHJlZmVyZW5jZXMgPSBqZXN0LmZuKClcclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgdXNlVW5pdFByZWZlcmVuY2VzOiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICAgIHByZWZlcmVuY2VzOiB7IGRpc3RhbmNlOiAna20nLCBwYWNlOiAnbWluL2ttJyB9LFxyXG4gICAgICB1cGRhdGVQcmVmZXJlbmNlczogbW9ja1VwZGF0ZVByZWZlcmVuY2VzLFxyXG4gICAgICBzZXREaXN0YW5jZVVuaXQ6IG1vY2tTZXREaXN0YW5jZVVuaXQsXHJcbiAgICAgIHRvZ2dsZVVuaXRzOiBtb2NrVG9nZ2xlVW5pdHMsXHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcclxuICAgIH0pKSxcclxuICAgIF9fbW9ja3M6IHtcclxuICAgICAgc2V0RGlzdGFuY2VVbml0OiBtb2NrU2V0RGlzdGFuY2VVbml0LFxyXG4gICAgICB0b2dnbGVVbml0czogbW9ja1RvZ2dsZVVuaXRzLFxyXG4gICAgICB1cGRhdGVQcmVmZXJlbmNlczogbW9ja1VwZGF0ZVByZWZlcmVuY2VzLFxyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXHJcbmplc3QubW9jaygnQC9wcm92aWRlcnMvQXV0aFByb3ZpZGVyJywgKCkgPT4gKHtcclxuICB1c2VBdXRoOiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICB1c2VyOiBudWxsLFxyXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXHJcbiAgICBzaWduT3V0OiBqZXN0LmZuKCksXHJcbiAgICByZWZyZXNoVXNlcjogamVzdC5mbigpXHJcbiAgfSkpLFxyXG59KSlcclxuXHJcbi8vIE1vY2sgZW52aXJvbm1lbnQgdmFyaWFibGVzXHJcbnByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCA9ICdodHRwczovL3Rlc3Quc3VwYWJhc2UuY28nXHJcbnByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZID0gJ3Rlc3QtYW5vbi1rZXknXHJcbnByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgPSAndGVzdC1zZXJ2aWNlLXJvbGUta2V5J1xyXG5cclxuLy8gUkVNT1ZFRDogSGVhdnkgY29uc29sZSBtb2NraW5nIHRoYXQgd2FzIHJ1bm5pbmcgYmVmb3JlIGV2ZXJ5IHRlc3RcclxuLy8gUkVNT1ZFRDogYmVmb3JlRWFjaC9hZnRlckVhY2ggaG9va3MgdGhhdCB3ZXJlIGFkZGluZyBvdmVyaGVhZFxyXG5cclxuLy8gTW9jayBmZXRjaCBnbG9iYWxseVxyXG5nbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCgpID0+XHJcbiAgUHJvbWlzZS5yZXNvbHZlKHtcclxuICAgIG9rOiB0cnVlLFxyXG4gICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHt9KSxcclxuICAgIHRleHQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgnJyksXHJcbiAgICBzdGF0dXM6IDIwMCxcclxuICAgIHN0YXR1c1RleHQ6ICdPSycsXHJcbiAgfSlcclxuKVxyXG5cclxuLy8gTW9jayB3aW5kb3cubG9jYXRpb24gaW4gYSBzYWZlIHdheSB0aGF0IHdvcmtzIHdpdGggSlNET01cclxuZGVsZXRlIHdpbmRvdy5sb2NhdGlvblxyXG53aW5kb3cubG9jYXRpb24gPSB7XHJcbiAgaHJlZjogJycsXHJcbiAgYXNzaWduOiBqZXN0LmZuKCksXHJcbiAgcmVwbGFjZTogamVzdC5mbigpLFxyXG4gIHJlbG9hZDogamVzdC5mbigpLFxyXG4gIHRvU3RyaW5nOiBqZXN0LmZuKCgpID0+ICdodHRwOi8vbG9jYWxob3N0LycpLFxyXG59XHJcblxyXG4vLyBNb2NrIFJlc2l6ZU9ic2VydmVyXHJcbmdsb2JhbC5SZXNpemVPYnNlcnZlciA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcclxuICBvYnNlcnZlOiBqZXN0LmZuKCksXHJcbiAgdW5vYnNlcnZlOiBqZXN0LmZuKCksXHJcbiAgZGlzY29ubmVjdDogamVzdC5mbigpLFxyXG59KSlcclxuXHJcbi8vIE1vY2sgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcclxuZ2xvYmFsLkludGVyc2VjdGlvbk9ic2VydmVyID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gIG9ic2VydmU6IGplc3QuZm4oKSxcclxuICB1bm9ic2VydmU6IGplc3QuZm4oKSxcclxuICBkaXNjb25uZWN0OiBqZXN0LmZuKCksXHJcbn0pKSAiXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VSb3V0ZXIiLCJmbiIsIm1vY2tSb3V0ZXJGdW5jdGlvbnMiLCJ1c2VTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ1c2VQYXRobmFtZSIsInJlZGlyZWN0IiwiX19tb2NrUm91dGVyRnVuY3Rpb25zIiwiY29va2llcyIsImdldCIsInNldCIsImRlbGV0ZSIsImhlYWRlcnMiLCJjcmVhdGVDbGllbnQiLCJhdXRoIiwiZ2V0VXNlciIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsIm9uQXV0aFN0YXRlQ2hhbmdlIiwic3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJzaWduT3V0IiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwibGltaXQiLCJvcmRlciIsImluc2VydCIsInVwZGF0ZSIsInVwc2VydCIsInVzZVVzZXJHb2FscyIsImdvYWxzIiwib25ib2FyZGluZyIsImlzTG9hZGluZyIsInJlZmV0Y2giLCJ1c2VVcGRhdGVHb2FsIiwibXV0YXRlIiwidXNlQ3JlYXRlR29hbCIsInVzZURlbGV0ZUdvYWwiLCJ1c2VHb2FsVHlwZXMiLCJ1c2VDcmVhdGVNdWx0aXBsZUdvYWxzIiwidXNlVXNlckFjdGl2aXRpZXMiLCJ1c2VTdHJhdmFTeW5jIiwic3luY0RhdGEiLCJsYXN0U3luY1RpbWUiLCJtb2NrU2V0RGlzdGFuY2VVbml0IiwibW9ja1RvZ2dsZVVuaXRzIiwibW9ja1VwZGF0ZVByZWZlcmVuY2VzIiwidXNlVW5pdFByZWZlcmVuY2VzIiwicHJlZmVyZW5jZXMiLCJkaXN0YW5jZSIsInBhY2UiLCJ1cGRhdGVQcmVmZXJlbmNlcyIsInNldERpc3RhbmNlVW5pdCIsInRvZ2dsZVVuaXRzIiwiX19tb2NrcyIsInVzZUF1dGgiLCJpc0F1dGhlbnRpY2F0ZWQiLCJyZWZyZXNoVXNlciIsInB1c2giLCJyZXBsYWNlIiwiYmFjayIsImZvcndhcmQiLCJyZWZyZXNoIiwicHJlZmV0Y2giLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiZ2xvYmFsIiwiZmV0Y2giLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9rIiwianNvbiIsInRleHQiLCJzdGF0dXMiLCJzdGF0dXNUZXh0Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiYXNzaWduIiwicmVsb2FkIiwidG9TdHJpbmciLCJSZXNpemVPYnNlcnZlciIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIm9ic2VydmUiLCJ1bm9ic2VydmUiLCJkaXNjb25uZWN0IiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjs7QUFhcEIsOENBQThDO0FBQzlDQSxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsV0FBV0YsS0FBS0csRUFBRSxDQUFDLElBQU1DO1FBQ3pCQyxpQkFBaUIsSUFBTSxJQUFJQztRQUMzQkMsYUFBYSxJQUFNO1FBQ25CQyxVQUFVUixLQUFLRyxFQUFFO1FBQ2pCTSx1QkFBdUJMO0lBQ3pCLENBQUE7QUFFQSxpREFBaUQ7QUFDakRKLEtBQUtDLElBQUksQ0FBQyxnQkFBZ0IsSUFBTyxDQUFBO1FBQy9CUyxTQUFTLElBQU8sQ0FBQTtnQkFDZEMsS0FBS1gsS0FBS0csRUFBRTtnQkFDWlMsS0FBS1osS0FBS0csRUFBRTtnQkFDWlUsUUFBUWIsS0FBS0csRUFBRTtZQUNqQixDQUFBO1FBQ0FXLFNBQVMsSUFBTyxDQUFBO2dCQUNkSCxLQUFLWCxLQUFLRyxFQUFFO1lBQ2QsQ0FBQTtJQUNGLENBQUE7QUFFQSxvRUFBb0U7QUFDcEVILEtBQUtDLElBQUksQ0FBQyx5QkFBeUIsSUFBTyxDQUFBO1FBQ3hDYyxjQUFjZixLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFBO2dCQUMzQmEsTUFBTTtvQkFDSkMsU0FBU2pCLEtBQUtHLEVBQUUsR0FBR2UsaUJBQWlCLENBQUM7d0JBQUVDLE1BQU07NEJBQUVDLE1BQU07d0JBQUs7d0JBQUdDLE9BQU87b0JBQUs7b0JBQ3pFQyxtQkFBbUJ0QixLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFBOzRC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