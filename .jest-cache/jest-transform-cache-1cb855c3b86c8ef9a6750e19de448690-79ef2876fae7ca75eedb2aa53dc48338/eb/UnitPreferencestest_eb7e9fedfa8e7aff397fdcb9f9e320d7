b0279bc414a9e00a9c08bfccaae9c890
"use strict";
// Mock the useUnitPreferences hook
jest.mock('@/hooks/useUnitPreferences', ()=>({
        useUnitPreferences: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _reactquery = require("@tanstack/react-query");
const _UnitPreferences = /*#__PURE__*/ _interop_require_default(require("../../../components/settings/UnitPreferences"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockUseUnitPreferences = require('@/hooks/useUnitPreferences').useUnitPreferences;
const createTestQueryClient = ()=>{
    return new _reactquery.QueryClient({
        defaultOptions: {
            queries: {
                retry: false
            }
        }
    });
};
describe('UnitPreferences Component', ()=>{
    let queryClient;
    beforeEach(()=>{
        queryClient = createTestQueryClient();
        jest.clearAllMocks();
    });
    const wrapper = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
            client: queryClient,
            children: children
        });
    it('shows loading state when preferences are loading', ()=>{
        mockUseUnitPreferences.mockReturnValue({
            preferences: {
                distance: 'km',
                pace: 'min/km'
            },
            isLoading: true,
            setDistanceUnit: jest.fn(),
            toggleUnits: jest.fn()
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnitPreferences.default, {}), {
            wrapper
        });
        expect(_react1.screen.getByText('Units & Display')).toBeInTheDocument();
        expect(_react1.screen.getByText('Choose your preferred units for distances and pace')).toBeInTheDocument();
        // Should show loading animation
        expect(document.querySelector('.animate-pulse')).toBeInTheDocument();
    });
    it('displays current preferences and allows switching units', async ()=>{
        const mockToggleUnits = jest.fn().mockResolvedValue(undefined);
        mockUseUnitPreferences.mockReturnValue({
            preferences: {
                distance: 'km',
                pace: 'min/km'
            },
            isLoading: false,
            setDistanceUnit: jest.fn(),
            toggleUnits: mockToggleUnits
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnitPreferences.default, {}), {
            wrapper
        });
        // Should show the unit selection buttons
        expect(_react1.screen.getByText('Kilometers (km)')).toBeInTheDocument();
        expect(_react1.screen.getByText('Miles (mi)')).toBeInTheDocument();
        // Should show current settings
        expect(_react1.screen.getByText('Current Settings')).toBeInTheDocument();
        expect(_react1.screen.getByText('Distance: Kilometers (km)')).toBeInTheDocument();
        expect(_react1.screen.getByText('Pace: min/km')).toBeInTheDocument();
        // Should show examples
        expect(_react1.screen.getByText('Examples with current setting:')).toBeInTheDocument();
        expect(_react1.screen.getByText('• Distance: 5.0 km')).toBeInTheDocument();
        expect(_react1.screen.getByText('• Pace: 5:00/km (5:00 per km converted)')).toBeInTheDocument();
        // Click to switch to miles
        const milesButton = _react1.screen.getByRole('button', {
            name: /Miles \(mi\)/
        });
        _react1.fireEvent.click(milesButton);
        await (0, _react1.waitFor)(()=>{
            expect(mockToggleUnits).toHaveBeenCalled();
        });
    });
    it('shows miles preferences when set to miles', ()=>{
        mockUseUnitPreferences.mockReturnValue({
            preferences: {
                distance: 'miles',
                pace: 'min/mile'
            },
            isLoading: false,
            setDistanceUnit: jest.fn(),
            toggleUnits: jest.fn()
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnitPreferences.default, {}), {
            wrapper
        });
        // Should show miles in current settings
        expect(_react1.screen.getByText('Distance: Miles (mi)')).toBeInTheDocument();
        expect(_react1.screen.getByText('Pace: min/mile')).toBeInTheDocument();
        // Should show examples in miles
        expect(_react1.screen.getByText('• Distance: 3.1 mi')).toBeInTheDocument();
        expect(_react1.screen.getByText('• Pace: 8:02/mi (5:00 per km converted)')).toBeInTheDocument();
        expect(_react1.screen.getByText('• Long run: 13.1 mi')).toBeInTheDocument();
    });
    it('shows correct active state for buttons', ()=>{
        mockUseUnitPreferences.mockReturnValue({
            preferences: {
                distance: 'km',
                pace: 'min/km'
            },
            isLoading: false,
            setDistanceUnit: jest.fn(),
            toggleUnits: jest.fn()
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnitPreferences.default, {}), {
            wrapper
        });
        // km button should show active state (check mark)
        const kmButton = _react1.screen.getByRole('button', {
            name: /Kilometers \(km\)/
        });
        expect(kmButton).toBeInTheDocument();
        // Should show check mark for active option
        expect(document.querySelector('svg')).toBeInTheDocument();
    });
    it('allows clicking on unit buttons', async ()=>{
        const mockToggleUnits = jest.fn().mockResolvedValue(undefined);
        mockUseUnitPreferences.mockReturnValue({
            preferences: {
                distance: 'km',
                pace: 'min/km'
            },
            isLoading: false,
            setDistanceUnit: jest.fn(),
            toggleUnits: mockToggleUnits
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnitPreferences.default, {}), {
            wrapper
        });
        const milesButton = _react1.screen.getByRole('button', {
            name: /Miles \(mi\)/
        });
        _react1.fireEvent.click(milesButton);
        await (0, _react1.waitFor)(()=>{
            expect(mockToggleUnits).toHaveBeenCalled();
        });
    });
    it('handles switching from miles to kilometers', async ()=>{
        const mockToggleUnits = jest.fn().mockResolvedValue(undefined);
        mockUseUnitPreferences.mockReturnValue({
            preferences: {
                distance: 'miles',
                pace: 'min/mile'
            },
            isLoading: false,
            setDistanceUnit: jest.fn(),
            toggleUnits: mockToggleUnits
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnitPreferences.default, {}), {
            wrapper
        });
        const kmButton = _react1.screen.getByRole('button', {
            name: /Kilometers \(km\)/
        });
        _react1.fireEvent.click(kmButton);
        await (0, _react1.waitFor)(()=>{
            expect(mockToggleUnits).toHaveBeenCalled();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdGlhbWFcXERlc2t0b3BcXENvZGluZ1xcZW5kdXJvcmV2YW1wXFxfX3Rlc3RzX19cXGNvbXBvbmVudHNcXHNldHRpbmdzXFxVbml0UHJlZmVyZW5jZXMudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCdcclxuaW1wb3J0IHsgUXVlcnlDbGllbnQsIFF1ZXJ5Q2xpZW50UHJvdmlkZXIgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknXHJcbmltcG9ydCBVbml0UHJlZmVyZW5jZXMgZnJvbSAnQC9jb21wb25lbnRzL3NldHRpbmdzL1VuaXRQcmVmZXJlbmNlcydcclxuXHJcbi8vIE1vY2sgdGhlIHVzZVVuaXRQcmVmZXJlbmNlcyBob29rXHJcbmplc3QubW9jaygnQC9ob29rcy91c2VVbml0UHJlZmVyZW5jZXMnLCAoKSA9PiAoe1xyXG4gIHVzZVVuaXRQcmVmZXJlbmNlczogamVzdC5mbigpLFxyXG59KSlcclxuXHJcbmNvbnN0IG1vY2tVc2VVbml0UHJlZmVyZW5jZXMgPSByZXF1aXJlKCdAL2hvb2tzL3VzZVVuaXRQcmVmZXJlbmNlcycpLnVzZVVuaXRQcmVmZXJlbmNlc1xyXG5cclxuY29uc3QgY3JlYXRlVGVzdFF1ZXJ5Q2xpZW50ID0gKCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUXVlcnlDbGllbnQoe1xyXG4gICAgZGVmYXVsdE9wdGlvbnM6IHtcclxuICAgICAgcXVlcmllczoge1xyXG4gICAgICAgIHJldHJ5OiBmYWxzZSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSlcclxufVxyXG5cclxuZGVzY3JpYmUoJ1VuaXRQcmVmZXJlbmNlcyBDb21wb25lbnQnLCAoKSA9PiB7XHJcbiAgbGV0IHF1ZXJ5Q2xpZW50OiBRdWVyeUNsaWVudFxyXG5cclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIHF1ZXJ5Q2xpZW50ID0gY3JlYXRlVGVzdFF1ZXJ5Q2xpZW50KClcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXHJcbiAgfSlcclxuXHJcbiAgY29uc3Qgd3JhcHBlciA9ICh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSA9PiAoXHJcbiAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cclxuICAgICAge2NoaWxkcmVufVxyXG4gICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxyXG4gIClcclxuXHJcbiAgaXQoJ3Nob3dzIGxvYWRpbmcgc3RhdGUgd2hlbiBwcmVmZXJlbmNlcyBhcmUgbG9hZGluZycsICgpID0+IHtcclxuICAgIG1vY2tVc2VVbml0UHJlZmVyZW5jZXMubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgcHJlZmVyZW5jZXM6IHsgZGlzdGFuY2U6ICdrbScsIHBhY2U6ICdtaW4va20nIH0sXHJcbiAgICAgIGlzTG9hZGluZzogdHJ1ZSxcclxuICAgICAgc2V0RGlzdGFuY2VVbml0OiBqZXN0LmZuKCksXHJcbiAgICAgIHRvZ2dsZVVuaXRzOiBqZXN0LmZuKCksXHJcbiAgICB9KVxyXG5cclxuICAgIHJlbmRlcig8VW5pdFByZWZlcmVuY2VzIC8+LCB7IHdyYXBwZXIgfSlcclxuXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVW5pdHMgJiBEaXNwbGF5JykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDaG9vc2UgeW91ciBwcmVmZXJyZWQgdW5pdHMgZm9yIGRpc3RhbmNlcyBhbmQgcGFjZScpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBcclxuICAgIC8vIFNob3VsZCBzaG93IGxvYWRpbmcgYW5pbWF0aW9uXHJcbiAgICBleHBlY3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFuaW1hdGUtcHVsc2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gIH0pXHJcblxyXG4gIGl0KCdkaXNwbGF5cyBjdXJyZW50IHByZWZlcmVuY2VzIGFuZCBhbGxvd3Mgc3dpdGNoaW5nIHVuaXRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgbW9ja1RvZ2dsZVVuaXRzID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcclxuICAgIFxyXG4gICAgbW9ja1VzZVVuaXRQcmVmZXJlbmNlcy5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBwcmVmZXJlbmNlczogeyBkaXN0YW5jZTogJ2ttJywgcGFjZTogJ21pbi9rbScgfSxcclxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgc2V0RGlzdGFuY2VVbml0OiBqZXN0LmZuKCksXHJcbiAgICAgIHRvZ2dsZVVuaXRzOiBtb2NrVG9nZ2xlVW5pdHMsXHJcbiAgICB9KVxyXG5cclxuICAgIHJlbmRlcig8VW5pdFByZWZlcmVuY2VzIC8+LCB7IHdyYXBwZXIgfSlcclxuXHJcbiAgICAvLyBTaG91bGQgc2hvdyB0aGUgdW5pdCBzZWxlY3Rpb24gYnV0dG9uc1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0tpbG9tZXRlcnMgKGttKScpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTWlsZXMgKG1pKScpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBcclxuICAgIC8vIFNob3VsZCBzaG93IGN1cnJlbnQgc2V0dGluZ3NcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDdXJyZW50IFNldHRpbmdzJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdEaXN0YW5jZTogS2lsb21ldGVycyAoa20pJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQYWNlOiBtaW4va20nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgXHJcbiAgICAvLyBTaG91bGQgc2hvdyBleGFtcGxlc1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0V4YW1wbGVzIHdpdGggY3VycmVudCBzZXR0aW5nOicpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn4oCiIERpc3RhbmNlOiA1LjAga20nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+KAoiBQYWNlOiA1OjAwL2ttICg1OjAwIHBlciBrbSBjb252ZXJ0ZWQpJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuXHJcbiAgICAvLyBDbGljayB0byBzd2l0Y2ggdG8gbWlsZXNcclxuICAgIGNvbnN0IG1pbGVzQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvTWlsZXMgXFwobWlcXCkvIH0pXHJcbiAgICBmaXJlRXZlbnQuY2xpY2sobWlsZXNCdXR0b24pXHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrVG9nZ2xlVW5pdHMpLnRvSGF2ZUJlZW5DYWxsZWQoKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICBpdCgnc2hvd3MgbWlsZXMgcHJlZmVyZW5jZXMgd2hlbiBzZXQgdG8gbWlsZXMnLCAoKSA9PiB7XHJcbiAgICBtb2NrVXNlVW5pdFByZWZlcmVuY2VzLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIHByZWZlcmVuY2VzOiB7IGRpc3RhbmNlOiAnbWlsZXMnLCBwYWNlOiAnbWluL21pbGUnIH0sXHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgIHNldERpc3RhbmNlVW5pdDogamVzdC5mbigpLFxyXG4gICAgICB0b2dnbGVVbml0czogamVzdC5mbigpLFxyXG4gICAgfSlcclxuXHJcbiAgICByZW5kZXIoPFVuaXRQcmVmZXJlbmNlcyAvPiwgeyB3cmFwcGVyIH0pXHJcblxyXG4gICAgLy8gU2hvdWxkIHNob3cgbWlsZXMgaW4gY3VycmVudCBzZXR0aW5nc1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Rpc3RhbmNlOiBNaWxlcyAobWkpJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQYWNlOiBtaW4vbWlsZScpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBcclxuICAgIC8vIFNob3VsZCBzaG93IGV4YW1wbGVzIGluIG1pbGVzXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn4oCiIERpc3RhbmNlOiAzLjEgbWknKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+KAoiBQYWNlOiA4OjAyL21pICg1OjAwIHBlciBrbSBjb252ZXJ0ZWQpJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfigKIgTG9uZyBydW46IDEzLjEgbWknKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gIH0pXHJcblxyXG4gIGl0KCdzaG93cyBjb3JyZWN0IGFjdGl2ZSBzdGF0ZSBmb3IgYnV0dG9ucycsICgpID0+IHtcclxuICAgIG1vY2tVc2VVbml0UHJlZmVyZW5jZXMubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgcHJlZmVyZW5jZXM6IHsgZGlzdGFuY2U6ICdrbScsIHBhY2U6ICdtaW4va20nIH0sXHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgIHNldERpc3RhbmNlVW5pdDogamVzdC5mbigpLFxyXG4gICAgICB0b2dnbGVVbml0czogamVzdC5mbigpLFxyXG4gICAgfSlcclxuXHJcbiAgICByZW5kZXIoPFVuaXRQcmVmZXJlbmNlcyAvPiwgeyB3cmFwcGVyIH0pXHJcblxyXG4gICAgLy8ga20gYnV0dG9uIHNob3VsZCBzaG93IGFjdGl2ZSBzdGF0ZSAoY2hlY2sgbWFyaylcclxuICAgIGNvbnN0IGttQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvS2lsb21ldGVycyBcXChrbVxcKS8gfSlcclxuICAgIGV4cGVjdChrbUJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgXHJcbiAgICAvLyBTaG91bGQgc2hvdyBjaGVjayBtYXJrIGZvciBhY3RpdmUgb3B0aW9uXHJcbiAgICBleHBlY3QoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3ZnJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICB9KVxyXG5cclxuICBpdCgnYWxsb3dzIGNsaWNraW5nIG9uIHVuaXQgYnV0dG9ucycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IG1vY2tUb2dnbGVVbml0cyA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXHJcbiAgICBcclxuICAgIG1vY2tVc2VVbml0UHJlZmVyZW5jZXMubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgcHJlZmVyZW5jZXM6IHsgZGlzdGFuY2U6ICdrbScsIHBhY2U6ICdtaW4va20nIH0sXHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgIHNldERpc3RhbmNlVW5pdDogamVzdC5mbigpLFxyXG4gICAgICB0b2dnbGVVbml0czogbW9ja1RvZ2dsZVVuaXRzLFxyXG4gICAgfSlcclxuXHJcbiAgICByZW5kZXIoPFVuaXRQcmVmZXJlbmNlcyAvPiwgeyB3cmFwcGVyIH0pXHJcblxyXG4gICAgY29uc3QgbWlsZXNCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9NaWxlcyBcXChtaVxcKS8gfSlcclxuICAgIGZpcmVFdmVudC5jbGljayhtaWxlc0J1dHRvbilcclxuICAgIFxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrVG9nZ2xlVW5pdHMpLnRvSGF2ZUJlZW5DYWxsZWQoKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICBpdCgnaGFuZGxlcyBzd2l0Y2hpbmcgZnJvbSBtaWxlcyB0byBraWxvbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgbW9ja1RvZ2dsZVVuaXRzID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZClcclxuICAgIFxyXG4gICAgbW9ja1VzZVVuaXRQcmVmZXJlbmNlcy5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBwcmVmZXJlbmNlczogeyBkaXN0YW5jZTogJ21pbGVzJywgcGFjZTogJ21pbi9taWxlJyB9LFxyXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICBzZXREaXN0YW5jZVVuaXQ6IGplc3QuZm4oKSxcclxuICAgICAgdG9nZ2xlVW5pdHM6IG1vY2tUb2dnbGVVbml0cyxcclxuICAgIH0pXHJcblxyXG4gICAgcmVuZGVyKDxVbml0UHJlZmVyZW5jZXMgLz4sIHsgd3JhcHBlciB9KVxyXG5cclxuICAgIGNvbnN0IGttQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvS2lsb21ldGVycyBcXChrbVxcKS8gfSlcclxuICAgIGZpcmVFdmVudC5jbGljayhrbUJ1dHRvbilcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tUb2dnbGVVbml0cykudG9IYXZlQmVlbkNhbGxlZCgpXHJcbiAgICB9KVxyXG4gIH0pXHJcbn0pICJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZVVuaXRQcmVmZXJlbmNlcyIsImZuIiwibW9ja1VzZVVuaXRQcmVmZXJlbmNlcyIsInJlcXVpcmUiLCJjcmVhdGVUZXN0UXVlcnlDbGllbnQiLCJRdWVyeUNsaWVudCIsImRlZmF1bHRPcHRpb25zIiwicXVlcmllcyIsInJldHJ5IiwiZGVzY3JpYmUiLCJxdWVyeUNsaWVudCIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwid3JhcHBlciIsImNoaWxkcmVuIiwiUXVlcnlDbGllbnRQcm92aWRlciIsImNsaWVudCIsIml0IiwibW9ja1JldHVyblZhbHVlIiwicHJlZmVyZW5jZXMiLCJkaXN0YW5jZSIsInBhY2UiLCJpc0xvYWRpbmciLCJzZXREaXN0YW5jZVVuaXQiLCJ0b2dnbGVVbml0cyIsInJlbmRlciIsIlVuaXRQcmVmZXJlbmNlcyIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibW9ja1RvZ2dsZVVuaXRzIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJ1bmRlZmluZWQiLCJtaWxlc0J1dHRvbiIsImdldEJ5Um9sZSIsIm5hbWUiLCJmaXJlRXZlbnQiLCJjbGljayIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwia21CdXR0b24iXSwibWFwcGluZ3MiOiI7QUFLQSxtQ0FBbUM7QUFDbkNBLEtBQUtDLElBQUksQ0FBQyw4QkFBOEIsSUFBTyxDQUFBO1FBQzdDQyxvQkFBb0JGLEtBQUtHLEVBQUU7SUFDN0IsQ0FBQTs7Ozs7OERBUmtCO3dCQUNpQzs0QkFDRjt3RUFDckI7Ozs7OztBQU81QixNQUFNQyx5QkFBeUJDLFFBQVEsOEJBQThCSCxrQkFBa0I7QUFFdkYsTUFBTUksd0JBQXdCO0lBQzVCLE9BQU8sSUFBSUMsdUJBQVcsQ0FBQztRQUNyQkMsZ0JBQWdCO1lBQ2RDLFNBQVM7Z0JBQ1BDLE9BQU87WUFDVDtRQUNGO0lBQ0Y7QUFDRjtBQUVBQyxTQUFTLDZCQUE2QjtJQUNwQyxJQUFJQztJQUVKQyxXQUFXO1FBQ1RELGNBQWNOO1FBQ2ROLEtBQUtjLGFBQWE7SUFDcEI7SUFFQSxNQUFNQyxVQUFVLENBQUMsRUFBRUMsUUFBUSxFQUFpQyxpQkFDMUQscUJBQUNDLCtCQUFtQjtZQUFDQyxRQUFRTjtzQkFDMUJJOztJQUlMRyxHQUFHLG9EQUFvRDtRQUNyRGYsdUJBQXVCZ0IsZUFBZSxDQUFDO1lBQ3JDQyxhQUFhO2dCQUFFQyxVQUFVO2dC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