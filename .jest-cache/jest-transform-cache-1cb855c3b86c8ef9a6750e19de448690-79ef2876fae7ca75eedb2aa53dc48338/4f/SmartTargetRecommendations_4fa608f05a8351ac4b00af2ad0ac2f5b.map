{"version":3,"sources":["C:\\Users\\tiama\\Desktop\\Coding\\endurorevamp\\components\\goals\\SmartTargetRecommendations.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { GoalType } from '@/types/goals';\nimport { useUnitPreferences } from '@/hooks/useUnitPreferences';\nimport { formatDistance, formatPace as formatPaceUtil } from '@/lib/utils';\nimport { \n  Brain,\n  Target,\n  TrendingUp,\n  Zap,\n  Shield,\n  Star,\n  Calculator,\n  Lightbulb\n} from 'lucide-react';\n\ninterface UserPerformanceData {\n  weeklyDistance: number;\n  monthlyDistance: number;\n  averagePace: number; // seconds per km\n  runFrequency: number; // runs per week\n  longestRun: number;\n  totalRunningExperience: number; // months\n  recentInjuries: boolean;\n}\n\ninterface SmartTargetRecommendationsProps {\n  goalType: GoalType;\n  userPerformance?: UserPerformanceData;\n  onSelectTarget: (target: number, difficulty: string) => void;\n}\n\nexport function SmartTargetRecommendations({ \n  goalType, \n  userPerformance, \n  onSelectTarget \n}: SmartTargetRecommendationsProps) {\n  const [selectedDifficulty, setSelectedDifficulty] = useState<string>('moderate');\n  const [customTarget, setCustomTarget] = useState<number | null>(null);\n  const { preferences } = useUnitPreferences();\n\n  const recommendations = generateSmartRecommendations(goalType, userPerformance);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* AI Insights Header */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Brain className=\"h-5 w-5 text-purple-500\" />\n            AI-Powered Target Recommendations\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-muted-foreground\">\n            Our AI analyzes your recent performance, training history, and injury patterns to suggest the optimal target for your goal. \n            Choose a difficulty level that matches your commitment and timeline.\n          </p>\n        </CardContent>\n      </Card>\n\n      {/* Performance Analysis */}\n      {userPerformance && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <TrendingUp className=\"h-5 w-5 text-green-500\" />\n              Your Current Performance\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n              <div className=\"text-center p-3 bg-blue-50 rounded-lg\">\n                <div className=\"font-semibold\">{formatDistance(userPerformance.weeklyDistance * 1000, preferences.distance)}</div>\n                <div className=\"text-muted-foreground\">Weekly Distance</div>\n              </div>\n              <div className=\"text-center p-3 bg-green-50 rounded-lg\">\n                <div className=\"font-semibold\">{formatPaceUtil(userPerformance.averagePace, preferences.pace)}</div>\n                <div className=\"text-muted-foreground\">Average Pace</div>\n              </div>\n              <div className=\"text-center p-3 bg-purple-50 rounded-lg\">\n                <div className=\"font-semibold\">{userPerformance.runFrequency}/week</div>\n                <div className=\"text-muted-foreground\">Run Frequency</div>\n              </div>\n              <div className=\"text-center p-3 bg-orange-50 rounded-lg\">\n                <div className=\"font-semibold\">{formatDistance(userPerformance.longestRun * 1000, preferences.distance)}</div>\n                <div className=\"text-muted-foreground\">Longest Run</div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Difficulty Levels */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Choose Your Challenge Level</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid gap-4\">\n            {recommendations.map((rec) => (\n              <div\n                key={rec.difficulty}\n                className={`\n                  p-4 border-2 rounded-lg cursor-pointer transition-all\n                  ${selectedDifficulty === rec.difficulty \n                    ? 'border-blue-500 bg-blue-50' \n                    : 'border-gray-200 hover:border-gray-300'\n                  }\n                `}\n                onClick={() => setSelectedDifficulty(rec.difficulty)}\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <rec.icon className={`h-6 w-6 ${rec.color}`} />\n                    <div>\n                      <div className=\"flex items-center gap-2\">\n                        <h3 className=\"font-semibold\">{rec.title}</h3>\n                        <Badge variant={rec.badgeVariant}>\n                          {rec.target} {goalType.unit}\n                        </Badge>\n                      </div>\n                      <p className=\"text-sm text-muted-foreground mt-1\">\n                        {rec.description}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-sm font-medium\">{rec.successRate}% Success Rate</div>\n                    <div className=\"text-xs text-muted-foreground\">{rec.timeframe}</div>\n                  </div>\n                </div>\n\n                {/* Detailed Benefits */}\n                <div className=\"mt-3 pl-9\">\n                  <div className=\"text-sm space-y-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <Lightbulb className=\"h-3 w-3 text-yellow-500\" />\n                      <span className=\"text-muted-foreground\">Benefits: {rec.benefits}</span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Calculator className=\"h-3 w-3 text-blue-500\" />\n                      <span className=\"text-muted-foreground\">Strategy: {rec.strategy}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Custom Target Option */}\n          <div className=\"border-t pt-4\">\n            <Label htmlFor=\"customTarget\" className=\"text-sm font-medium\">\n              Or set a custom target\n            </Label>\n            <div className=\"flex items-center gap-2 mt-2\">\n              <Input\n                id=\"customTarget\"\n                type=\"number\"\n                placeholder={`Enter target in ${goalType.unit}`}\n                value={customTarget || ''}\n                onChange={(e) => setCustomTarget(parseFloat(e.target.value) || null)}\n                className=\"flex-1\"\n              />\n              <Button\n                variant=\"outline\"\n                disabled={!customTarget}\n                onClick={() => customTarget && onSelectTarget(customTarget, 'custom')}\n              >\n                Use Custom\n              </Button>\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-2 pt-4 border-t\">\n            <Button\n              className=\"flex-1\"\n              onClick={() => {\n                const selected = recommendations.find(r => r.difficulty === selectedDifficulty);\n                if (selected) {\n                  onSelectTarget(selected.target, selected.difficulty);\n                }\n              }}\n            >\n              Use {selectedDifficulty.charAt(0).toUpperCase() + selectedDifficulty.slice(1)} Target\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Target Guidance */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Target className=\"h-5 w-5 text-purple-500\" />\n            Goal Achievement Tips\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3 text-sm\">\n            {getGoalTips(goalType, selectedDifficulty).map((tip, index) => (\n              <div key={index} className=\"flex items-start gap-2\">\n                <div className=\"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0\" />\n                <span className=\"text-muted-foreground\">{tip}</span>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction generateSmartRecommendations(goalType: GoalType, userPerformance?: UserPerformanceData) {\n  const metricType = goalType.metric_type;\n\n  // Default recommendations if no performance data\n  if (!userPerformance) {\n    return getDefaultRecommendations(goalType);\n  }\n\n  // Generate personalized recommendations based on user performance\n  const recommendations = [];\n\n  switch (metricType) {\n    case 'total_distance':\n      recommendations.push(...generateDistanceRecommendations(goalType, userPerformance));\n      break;\n    case 'run_count':\n      recommendations.push(...generateFrequencyRecommendations(goalType, userPerformance));\n      break;\n    case 'average_pace':\n      recommendations.push(...generatePaceRecommendations(goalType, userPerformance));\n      break;\n    case 'total_time':\n      recommendations.push(...generateDurationRecommendations(goalType, userPerformance));\n      break;\n    default:\n      return getDefaultRecommendations(goalType);\n  }\n\n  return recommendations;\n}\n\nfunction generateDistanceRecommendations(goalType: GoalType, userPerformance: UserPerformanceData) {\n  const current = goalType.name.includes('weekly') \n    ? userPerformance.weeklyDistance \n    : userPerformance.monthlyDistance;\n\n  const baseMultiplier = goalType.name.includes('weekly') ? 1 : 4;\n\n  return [\n    {\n      difficulty: 'conservative',\n      title: 'Safe Progress',\n      target: Math.round(current * 1.1 * baseMultiplier),\n      icon: Shield,\n      color: 'text-green-500',\n      badgeVariant: 'secondary' as const,\n      description: '10% increase from your current average - safe and sustainable',\n      benefits: 'Builds confidence, low injury risk',\n      strategy: 'Gradual weekly increases, focus on consistency',\n      successRate: 95,\n      timeframe: '4-6 weeks'\n    },\n    {\n      difficulty: 'moderate',\n      title: 'Balanced Challenge',\n      target: Math.round(current * 1.25 * baseMultiplier),\n      icon: Target,\n      color: 'text-blue-500',\n      badgeVariant: 'default' as const,\n      description: '25% increase - optimal balance of challenge and achievability',\n      benefits: 'Meaningful fitness gains, improved endurance',\n      strategy: 'Progressive overload with recovery weeks',\n      successRate: 80,\n      timeframe: '6-8 weeks'\n    },\n    {\n      difficulty: 'ambitious',\n      title: 'Push Your Limits',\n      target: Math.round(current * 1.5 * baseMultiplier),\n      icon: Zap,\n      color: 'text-purple-500',\n      badgeVariant: 'destructive' as const,\n      description: '50% increase - significant challenge for experienced runners',\n      benefits: 'Major fitness breakthrough, mental toughness',\n      strategy: 'Structured training plan, careful monitoring',\n      successRate: 60,\n      timeframe: '8-12 weeks'\n    }\n  ];\n}\n\nfunction generateFrequencyRecommendations(goalType: GoalType, userPerformance: UserPerformanceData) {\n  const current = userPerformance.runFrequency;\n  const maxSafe = Math.min(6, current + 2);\n\n  return [\n    {\n      difficulty: 'conservative',\n      title: 'Steady Consistency',\n      target: Math.min(maxSafe, current + 1),\n      icon: Shield,\n      color: 'text-green-500',\n      badgeVariant: 'secondary' as const,\n      description: 'Add one more run per week to build habit',\n      benefits: 'Improved consistency, better recovery',\n      strategy: 'Replace one rest day with easy run',\n      successRate: 90,\n      timeframe: '2-4 weeks'\n    },\n    {\n      difficulty: 'moderate',\n      title: 'Solid Routine',\n      target: Math.min(maxSafe, current + 2),\n      icon: Target,\n      color: 'text-blue-500',\n      badgeVariant: 'default' as const,\n      description: 'Build a strong weekly running routine',\n      benefits: 'Enhanced fitness, stronger habit formation',\n      strategy: 'Schedule specific days, include variety',\n      successRate: 75,\n      timeframe: '4-6 weeks'\n    },\n    {\n      difficulty: 'ambitious',\n      title: 'Elite Consistency',\n      target: Math.min(6, current + 3),\n      icon: Star,\n      color: 'text-purple-500',\n      badgeVariant: 'destructive' as const,\n      description: 'Train like a serious runner with frequent sessions',\n      benefits: 'Elite-level consistency, rapid improvement',\n      strategy: 'Include easy runs, cross-training, recovery',\n      successRate: 55,\n      timeframe: '6-10 weeks'\n    }\n  ];\n}\n\nfunction generatePaceRecommendations(goalType: GoalType, userPerformance: UserPerformanceData) {\n  const currentPace = userPerformance.averagePace; // seconds per km\n  \n  return [\n    {\n      difficulty: 'conservative',\n      title: 'Steady Improvement',\n      target: currentPace - 10, // 10 seconds faster per km\n      icon: Shield,\n      color: 'text-green-500',\n      badgeVariant: 'secondary' as const,\n      description: '10 seconds per km improvement - sustainable pace gains',\n      benefits: 'Noticeable improvement, manageable effort',\n      strategy: 'Tempo runs once per week, easy runs for base',\n      successRate: 85,\n      timeframe: '6-8 weeks'\n    },\n    {\n      difficulty: 'moderate',\n      title: 'Significant Speed Gain',\n      target: currentPace - 20, // 20 seconds faster per km\n      icon: Target,\n      color: 'text-blue-500',\n      badgeVariant: 'default' as const,\n      description: '20 seconds per km improvement - noticeable speed increase',\n      benefits: 'Major speed improvement, enhanced efficiency',\n      strategy: 'Interval training, tempo runs, speed work',\n      successRate: 70,\n      timeframe: '8-12 weeks'\n    },\n    {\n      difficulty: 'ambitious',\n      title: 'Elite Speed Development',\n      target: currentPace - 30, // 30 seconds faster per km\n      icon: Zap,\n      color: 'text-purple-500',\n      badgeVariant: 'destructive' as const,\n      description: '30 seconds per km improvement - competitive level gains',\n      benefits: 'Elite-level speed, race performance boost',\n      strategy: 'Structured training plan, track work, coaching',\n      successRate: 50,\n      timeframe: '12-16 weeks'\n    }\n  ];\n}\n\nfunction generateDurationRecommendations(goalType: GoalType, userPerformance: UserPerformanceData) {\n  const estimatedWeeklyHours = (userPerformance.weeklyDistance / 10) * (userPerformance.averagePace / 60); // rough estimate\n  \n  return [\n    {\n      difficulty: 'conservative',\n      title: 'Time Builder',\n      target: Math.round(estimatedWeeklyHours * 1.2),\n      icon: Shield,\n      color: 'text-green-500',\n      badgeVariant: 'secondary' as const,\n      description: 'Gradually increase time on feet for endurance',\n      benefits: 'Better endurance, aerobic base development',\n      strategy: 'Extend easy runs by 5-10 minutes',\n      successRate: 90,\n      timeframe: '4-6 weeks'\n    },\n    {\n      difficulty: 'moderate',\n      title: 'Endurance Focus',\n      target: Math.round(estimatedWeeklyHours * 1.5),\n      icon: Target,\n      color: 'text-blue-500',\n      badgeVariant: 'default' as const,\n      description: 'Significant time increase for aerobic development',\n      benefits: 'Enhanced aerobic capacity, fat burning',\n      strategy: 'Add longer easy runs, maintain easy effort',\n      successRate: 75,\n      timeframe: '6-8 weeks'\n    },\n    {\n      difficulty: 'ambitious',\n      title: 'Volume Training',\n      target: Math.round(estimatedWeeklyHours * 2),\n      icon: Star,\n      color: 'text-purple-500',\n      badgeVariant: 'destructive' as const,\n      description: 'High-volume training for serious endurance goals',\n      benefits: 'Elite endurance, marathon preparation level',\n      strategy: 'Multiple runs per day, careful recovery',\n      successRate: 60,\n      timeframe: '8-12 weeks'\n    }\n  ];\n}\n\nfunction getDefaultRecommendations(goalType: GoalType) {\n  // Fallback recommendations when no user data is available\n  const guidance = goalType.target_guidance || '';\n  const matches = guidance.match(/(\\d+)-?(\\d+)?/g) || [];\n  \n  const baseTarget = matches.length > 0 ? parseInt(matches[0] || '20') : 20;\n  \n  return [\n    {\n      difficulty: 'conservative',\n      title: 'Beginner Friendly',\n      target: Math.round(baseTarget * 0.8),\n      icon: Shield,\n      color: 'text-green-500',\n      badgeVariant: 'secondary' as const,\n      description: 'A safe starting point for building the habit',\n      benefits: 'Builds confidence and consistency',\n      strategy: 'Focus on completion, not speed',\n      successRate: 90,\n      timeframe: '4-6 weeks'\n    },\n    {\n      difficulty: 'moderate',\n      title: 'Balanced Target',\n      target: baseTarget,\n      icon: Target,\n      color: 'text-blue-500',\n      badgeVariant: 'default' as const,\n      description: 'A well-rounded goal for regular runners',\n      benefits: 'Meaningful improvement and challenge',\n      strategy: 'Progressive training with variety',\n      successRate: 75,\n      timeframe: '6-8 weeks'\n    },\n    {\n      difficulty: 'ambitious',\n      title: 'Challenge Mode',\n      target: Math.round(baseTarget * 1.4),\n      icon: Zap,\n      color: 'text-purple-500',\n      badgeVariant: 'destructive' as const,\n      description: 'For experienced runners seeking a challenge',\n      benefits: 'Significant fitness gains and achievement',\n      strategy: 'Structured training plan required',\n      successRate: 60,\n      timeframe: '8-12 weeks'\n    }\n  ];\n}\n\nfunction getGoalTips(goalType: GoalType, difficulty: string = 'moderate'): string[] {\n  const baseTips = {\n    distance: [\n      'Increase distance gradually - no more than 10% per week',\n      'Include one long run per week to build endurance',\n      'Listen to your body and take rest days when needed',\n      'Focus on time on feet rather than speed for distance goals'\n    ],\n    pace: [\n      'Include interval training once per week for speed',\n      'Do most of your runs at an easy, conversational pace',\n      'Track your progress with a GPS watch or phone app',\n      'Race shorter distances to practice your target pace'\n    ],\n    frequency: [\n      'Schedule your runs like appointments in your calendar',\n      'Start with easy runs to build the habit consistently',\n      'Include at least one rest day between hard efforts',\n      'Consider alternate activities on non-running days'\n    ],\n    duration: [\n      'Build time gradually - add 5-10 minutes per week',\n      'Keep most runs at an easy, sustainable effort',\n      'Stay hydrated and fuel properly for longer sessions',\n      'Focus on enjoying the process, not just the outcome'\n    ]\n  };\n\n  const difficultyTips = {\n    conservative: ['Prioritize consistency over intensity', 'Celebrate small wins along the way'],\n    moderate: ['Include one challenging workout per week', 'Monitor your energy levels and adjust as needed'],\n    ambitious: ['Consider working with a coach or structured plan', 'Pay extra attention to recovery and nutrition']\n  };\n\n  const category = (goalType.category || 'distance') as keyof typeof baseTips;\n  const categoryTips = baseTips[category] || baseTips.distance;\n  const levelTips = difficultyTips[(difficulty || 'moderate') as keyof typeof difficultyTips] || [];\n\n  return [...categoryTips.slice(0, 3), ...levelTips];\n}\n\n"],"names":["SmartTargetRecommendations","goalType","userPerformance","onSelectTarget","selectedDifficulty","setSelectedDifficulty","useState","customTarget","setCustomTarget","preferences","useUnitPreferences","recommendations","generateSmartRecommendations","div","className","Card","CardHeader","CardTitle","Brain","CardContent","p","TrendingUp","formatDistance","weeklyDistance","distance","formatPaceUtil","averagePace","pace","runFrequency","longestRun","map","rec","difficulty","onClick","icon","color","h3","title","Badge","variant","badgeVariant","target","unit","description","successRate","timeframe","Lightbulb","span","benefits","Calculator","strategy","Label","htmlFor","Input","id","type","placeholder","value","onChange","e","parseFloat","Button","disabled","selected","find","r","charAt","toUpperCase","slice","Target","getGoalTips","tip","index","metricType","metric_type","getDefaultRecommendations","push","generateDistanceRecommendations","generateFrequencyRecommendations","generatePaceRecommendations","generateDurationRecommendations","current","name","includes","monthlyDistance","baseMultiplier","Math","round","Shield","Zap","maxSafe","min","Star","currentPace","estimatedWeeklyHours","guidance","target_guidance","matches","match","baseTarget","length","parseInt","baseTips","frequency","duration","difficultyTips","conservative","moderate","ambitious","category","categoryTips","levelTips"],"mappings":"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"}