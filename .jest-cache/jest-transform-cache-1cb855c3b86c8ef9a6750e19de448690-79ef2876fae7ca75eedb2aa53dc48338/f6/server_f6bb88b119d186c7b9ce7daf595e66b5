124e4f2993e43fb4a8a59f16874655f0
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    getUser: function() {
        return getUser;
    },
    redirectIfAuthenticated: function() {
        return redirectIfAuthenticated;
    },
    requireAuth: function() {
        return requireAuth;
    }
});
const _server = require("../supabase/server");
const _navigation = require("next/navigation");
async function getUser() {
    const supabase = await (0, _server.createClient)();
    const { data: { user } } = await supabase.auth.getUser();
    return user;
}
async function requireAuth() {
    const user = await getUser();
    if (!user) {
        (0, _navigation.redirect)('/auth/login');
    }
    return user;
}
async function redirectIfAuthenticated() {
    const user = await getUser();
    if (user) {
        (0, _navigation.redirect)('/dashboard');
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdGlhbWFcXERlc2t0b3BcXENvZGluZ1xcZW5kdXJvcmV2YW1wXFxsaWJcXGF1dGhcXHNlcnZlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInXHJcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJ1xyXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgY3VycmVudCB1c2VyIG9uIHRoZSBzZXJ2ZXIgc2lkZVxyXG4gKiBSZXR1cm5zIG51bGwgaWYgbm90IGF1dGhlbnRpY2F0ZWRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyKCk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcclxuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpXHJcbiAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcclxuICByZXR1cm4gdXNlclxyXG59XHJcblxyXG4vKipcclxuICogUmVxdWlyZSBhdXRoZW50aWNhdGlvbiBvbiB0aGUgc2VydmVyIHNpZGVcclxuICogUmVkaXJlY3RzIHRvIGxvZ2luIGlmIG5vdCBhdXRoZW50aWNhdGVkXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWlyZUF1dGgoKTogUHJvbWlzZTxVc2VyPiB7XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IGdldFVzZXIoKVxyXG4gIFxyXG4gIGlmICghdXNlcikge1xyXG4gICAgcmVkaXJlY3QoJy9hdXRoL2xvZ2luJylcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHVzZXJcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB1c2VyIGFuZCByZWRpcmVjdCB0byBkYXNoYm9hcmQgaWYgYWxyZWFkeSBhdXRoZW50aWNhdGVkXHJcbiAqIFVzZWZ1bCBmb3IgYXV0aCBwYWdlcyAobG9naW4vc2lnbnVwKVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZGlyZWN0SWZBdXRoZW50aWNhdGVkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyKClcclxuICBcclxuICBpZiAodXNlcikge1xyXG4gICAgcmVkaXJlY3QoJy9kYXNoYm9hcmQnKVxyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiZ2V0VXNlciIsInJlZGlyZWN0SWZBdXRoZW50aWNhdGVkIiwicmVxdWlyZUF1dGgiLCJzdXBhYmFzZSIsImNyZWF0ZUNsaWVudCIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsInJlZGlyZWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQVFzQkEsT0FBTztlQUFQQTs7SUF3QkFDLHVCQUF1QjtlQUF2QkE7O0lBZEFDLFdBQVc7ZUFBWEE7Ozt3QkFsQk87NEJBQ0o7QUFPbEIsZUFBZUY7SUFDcEIsTUFBTUcsV0FBVyxNQUFNQyxJQUFBQSxvQkFBWTtJQUNuQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEVBQUUsR0FBRyxNQUFNSCxTQUFTSSxJQUFJLENBQUNQLE9BQU87SUFDdEQsT0FBT007QUFDVDtBQU1PLGVBQWVKO0lBQ3BCLE1BQU1JLE9BQU8sTUFBTU47SUFFbkIsSUFBSSxDQUFDTSxNQUFNO1FBQ1RFLElBQUFBLG9CQUFRLEVBQUM7SUFDWDtJQUVBLE9BQU9GO0FBQ1Q7QUFNTyxlQUFlTDtJQUNwQixNQUFNSyxPQUFPLE1BQU1OO0lBRW5CLElBQUlNLE1BQU07UUFDUkUsSUFBQUEsb0JBQVEsRUFBQztJQUNYO0FBQ0YifQ==